function _extends(){return(_extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a}).apply(this,arguments)}function _typeof(a){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(a,b){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.LazyLoad=b()}(this,function(){"use strict";var j="undefined"!=typeof window,q=j&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),B=j&&"IntersectionObserver"in window,n=j&&"classList"in document.createElement("p"),e={elements_selector:"img",container:q||j?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},r=function(a,b){var c,d=new a(b);try{c=new CustomEvent("LazyLoad::Initialized",{detail:{instance:d}})}catch(a){(c=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:d})}window.dispatchEvent(c)},a=function(a,b){return a.getAttribute("data-"+b)},i=function(a,b,c){var d="data-"+b;null===c?a.removeAttribute(d):a.setAttribute(d,c)},s=function(b){return"true"===a(b,"was-processed")},c=function(a,b){return i(a,"ll-timeout",b)},l=function(b){return a(b,"ll-timeout")},u=function(a,b){a&&a(b)},d=function(a,b){a._loadingCount+=b,0===a._elements.length&&0===a._loadingCount&&u(a._settings.callback_finish)},f=function(a){for(var b,c=[],d=0;b=a.children[d];d+=1)"SOURCE"===b.tagName&&c.push(b);return c},o=function(a,b,c){c&&a.setAttribute(b,c)},v=function(b,c){o(b,"sizes",a(b,c.data_sizes)),o(b,"srcset",a(b,c.data_srcset)),o(b,"src",a(b,c.data_src))},g={IMG:function(a,b){var c=a.parentNode;c&&"PICTURE"===c.tagName&&f(c).forEach(function(a){v(a,b)}),v(a,b)},IFRAME:function(b,c){o(b,"src",a(b,c.data_src))},VIDEO:function(b,c){f(b).forEach(function(b){o(b,"src",a(b,c.data_src))}),o(b,"src",a(b,c.data_src)),b.load()}},m=function(b,c){var e,f,h=c._settings,i=b.tagName,j=g[i];return j?(j(b,h),d(c,1),void(c._elements=(e=c._elements,f=b,e.filter(function(a){return a!==f})))):void!function(b,c){var d=a(b,c.data_src),e=a(b,c.data_bg);d&&(b.style.backgroundImage="url(\"".concat(d,"\")")),e&&(b.style.backgroundImage=e)}(b,h)},b=function(a,b){n?a.classList.add(b):a.className+=(a.className?" ":"")+b},h=function(a,b,c){a.addEventListener(b,c)},p=function(a,b,c){a.removeEventListener(b,c)},y=function(a,b,c){p(a,"load",b),p(a,"loadeddata",b),p(a,"error",c)},D=function(c,f,e){var g=e._settings,h=f?g.class_loaded:g.class_error,a=f?g.callback_loaded:g.callback_error,i=c.target;!function(a,b){n?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}(i,g.class_loading),b(i,h),u(a,i),d(e,-1)},w=function(a,b){var c=function c(e){D(e,!0,b),y(a,c,d)},d=function d(e){D(e,!1,b),y(a,c,d)};!function(a,b,c){h(a,"load",b),h(a,"loadeddata",b),h(a,"error",c)}(a,c,d)},E=["IMG","IFRAME","VIDEO"],k=function(a,b){var c=b._observer;x(a,b),c&&b._settings.auto_unobserve&&c.unobserve(a)},A=function(a){var b=l(a);b&&(clearTimeout(b),c(a,null))},F=function(a,b){var d=b._settings.load_delay,e=l(a);e||(e=setTimeout(function(){k(a,b),A(a)},d),c(a,e))},x=function(a,c,d){var e=c._settings;!d&&s(a)||(-1<E.indexOf(a.tagName)&&(w(a,c),b(a,e.class_loading)),m(a,c),function(a){i(a,"was-processed","true")}(a),u(e.callback_reveal,a),u(e.callback_set,a))},z=function(a){return!!B&&(a._observer=new IntersectionObserver(function(b){b.forEach(function(b){return function(a){return a.isIntersecting||0<a.intersectionRatio}(b)?function(a,b){var c=b._settings;u(c.callback_enter,a),c.load_delay?F(a,b):k(a,b)}(b.target,a):function(a,b){var c=b._settings;u(c.callback_exit,a),c.load_delay&&A(a)}(b.target,a)})},{root:(b=a._settings).container===document?null:b.container,rootMargin:b.thresholds||b.threshold+"px"}),!0);var b},G=["IMG","IFRAME"],H=function(a,b){return function(a){return a.filter(function(a){return!s(a)})}((c=a||function(a){return a.container.querySelectorAll(a.elements_selector)}(b),Array.prototype.slice.call(c)));var c},t=function(a,b){this._settings=function(a){return _extends({},e,a)}(a),this._loadingCount=0,z(this),this.update(b)};return t.prototype={update:function(a){var b,c=this,d=this._settings;(this._elements=H(a,d),!q&&this._observer)?(function(a){return a.use_native&&"loading"in HTMLImageElement.prototype}(d)&&((b=this)._elements.forEach(function(a){-1!==G.indexOf(a.tagName)&&(a.setAttribute("loading","lazy"),x(a,b))}),this._elements=H(a,d)),this._elements.forEach(function(a){c._observer.observe(a)})):this.loadAll()},destroy:function(){var a=this;this._observer&&(this._elements.forEach(function(b){a._observer.unobserve(b)}),this._observer=null),this._elements=null,this._settings=null},load:function(a,b){x(a,this,b)},loadAll:function(){var a=this;this._elements.forEach(function(b){k(b,a)})}},j&&function(a,b){if(b)if(b.length)for(var c,d=0;c=b[d];d+=1)r(a,c);else r(a,b)}(t,window.lazyLoadOptions),t});